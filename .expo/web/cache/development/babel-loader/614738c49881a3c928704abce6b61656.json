{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Yevheniia\\\\Documents\\\\Github_codes\\\\1\\\\components\\\\MainButton.js\";\nimport { setStatusBarHidden, StatusBar } from 'expo-status-bar';\nimport React, { useEffect } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport firebase from 'firebase';\nexport default function MainButton(_ref) {\n  var locationLat = _ref.locationLat,\n      setLastLocation = _ref.setLastLocation,\n      lastLocation = _ref.lastLocation,\n      locationLong = _ref.locationLong,\n      address = _ref.address,\n      setAddress = _ref.setAddress,\n      setClicked = _ref.setClicked,\n      clicked = _ref.clicked;\n  var firebaseConfig = {\n    apiKey: \"AIzaSyBw0JiynMCdwmvU4R9HuB6mCOXCmwR8H0E\",\n    authDomain: \"locationapp-3efcb.firebaseapp.com\",\n    projectId: \"locationapp-3efcb\",\n    storageBucket: \"locationapp-3efcb.appspot.com\",\n    messagingSenderId: \"1020753340007\",\n    appId: \"1:1020753340007:web:31d1eeac64004d46bdd6c2\"\n  };\n\n  if (!firebase.apps.length) {\n    firebase.initializeApp(firebaseConfig);\n  }\n\n  useEffect(function () {});\n  var db = firebase.firestore();\n  var fireAddress = db.collection(\"test\").doc(\"locWaWWxNtucZmAIU5py\");\n  var randoms = ['Yes', 'No', 'Maybe', 'random'];\n\n  function showLocation() {\n    fetch('https://maps.googleapis.com/maps/api/geocode/json?address=' + locationLat + ',' + locationLong + '&key=' + 'AIzaSyANgMRwJSiVKGPdjshbjuavIYRuOg7dKvQ ').then(function (response) {\n      return response.json();\n    }).then(function (responseJson) {\n      var random = randoms[Math.floor(Math.random() * randoms.length)];\n      setAddress(responseJson.results[0].formatted_address + random);\n      setClicked(true);\n      console.log(address);\n    });\n    fireAddress.set({\n      location: address\n    }).then(function () {\n      console.log(\"Document successfully written!\");\n    }).catch(function (error) {\n      console.error(\"Error writing document: \", error);\n    });\n    fireAddress.update({\n      location: firebase.firestore.FieldValue.arrayUnion(address)\n    }).then(function () {\n      console.log(\"Document successfully updated!\");\n    }).catch(function (error) {\n      console.error(\"Error writing document: \", error);\n    });\n    var coll = db.collection(\"test\").get().then(function (querySnapshot) {\n      querySnapshot.forEach(function (doc) {\n        console.log(doc.id, \" => \", doc.data().location);\n        setLastLocation(doc.data().location);\n        console.log(lastLocation);\n      });\n    }).catch(function (error) {\n      console.log(\"Error getting documents: \", error);\n    });\n    console.log(coll);\n  }\n\n  return React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: styles.mainbutton,\n    onPress: showLocation,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 18\n    }\n  }, \"Show my location\")));\n}\nvar styles = StyleSheet.create({\n  mainbutton: {\n    margin: '1rem',\n    border: '1px solid lightblue',\n    padding: '1rem',\n    borderRadius: '10px'\n  }\n});","map":{"version":3,"sources":["C:/Users/Yevheniia/Documents/Github_codes/1/components/MainButton.js"],"names":["setStatusBarHidden","StatusBar","React","useEffect","firebase","MainButton","locationLat","setLastLocation","lastLocation","locationLong","address","setAddress","setClicked","clicked","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","apps","length","initializeApp","db","firestore","fireAddress","collection","doc","randoms","showLocation","fetch","then","response","json","responseJson","random","Math","floor","results","formatted_address","console","log","set","location","catch","error","update","FieldValue","arrayUnion","coll","get","querySnapshot","forEach","id","data","styles","mainbutton","StyleSheet","create","margin","border","padding","borderRadius"],"mappings":"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","sourcesContent":["import { setStatusBarHidden, StatusBar } from 'expo-status-bar';\r\nimport React, { useEffect } from 'react';\r\nimport {  Text, View, StyleSheet,  TouchableOpacity } from 'react-native';\r\nimport firebase from 'firebase';\r\n\r\nexport default function MainButton({locationLat, setLastLocation, lastLocation, locationLong, address, setAddress, setClicked, clicked }) {\r\n\r\n    const firebaseConfig = {\r\n        apiKey: \"AIzaSyBw0JiynMCdwmvU4R9HuB6mCOXCmwR8H0E\",\r\n        authDomain: \"locationapp-3efcb.firebaseapp.com\",\r\n        projectId: \"locationapp-3efcb\",\r\n        storageBucket: \"locationapp-3efcb.appspot.com\",\r\n        messagingSenderId: \"1020753340007\",\r\n        appId: \"1:1020753340007:web:31d1eeac64004d46bdd6c2\"\r\n      };\r\n      \r\n      // Initialize Firebase\r\n      if (!firebase.apps.length) {\r\n      firebase.initializeApp(firebaseConfig);\r\n      }\r\n    //Listen to firebase and display Last location instantly (not recommended)\r\n    //this piece of code will be requesting data from firebase every second\r\n      useEffect(()=>{\r\n    //     db.collection(\"test\")\r\n    //     .get()\r\n    //     .then((querySnapshot) => {\r\n    //     querySnapshot.forEach((doc) => {\r\n    //         // doc.data() is never undefined for query doc snapshots\r\n    //         console.log(doc.id, \" => \", doc.data().location);\r\n    //         setLastLocation(doc.data().location)\r\n    //         console.log(lastLocation)\r\n    //     });\r\n    // })\r\n      })\r\n\r\n    var db = firebase.firestore();\r\n      \r\n    let fireAddress = db.collection(\"test\").doc(\"locWaWWxNtucZmAIU5py\")\r\n    \r\n    //adding random word to the address to change location\r\n    var randoms = ['Yes', 'No', 'Maybe', 'random'];\r\n\r\n    function showLocation(){\r\n      //Converting Lattitude and Longtittude to an actual address\r\n      fetch('https://maps.googleapis.com/maps/api/geocode/json?address=' + locationLat + ',' + locationLong + '&key=' + 'AIzaSyANgMRwJSiVKGPdjshbjuavIYRuOg7dKvQ ')\r\n      .then((response) => response.json())\r\n      .then((responseJson) => {\r\n          var random = randoms[Math.floor(Math.random() * randoms.length)];\r\n        setAddress(responseJson.results[0].formatted_address + random)\r\n        setClicked(true)\r\n        console.log(address)  \r\n    })\r\n    //Creating array in firebase\r\n      fireAddress.set({\r\n      location: address \r\n    })\r\n      .then(() => {\r\n      console.log(\"Document successfully written!\");\r\n    })\r\n      .catch((error) => {\r\n      console.error(\"Error writing document: \", error);\r\n    });\r\n  //Updating firebase Array\r\n    fireAddress.update({\r\n    location: firebase.firestore.FieldValue.arrayUnion(address)\r\n    })\r\n    .then(() => {\r\n      console.log(\"Document successfully updated!\");\r\n    })\r\n    .catch((error) => {\r\n    console.error(\"Error writing document: \", error);\r\n    });\r\n    //Getting data from firebase Array\r\n    let coll = db.collection(\"test\")\r\n    .get()\r\n    .then((querySnapshot) => {\r\n        querySnapshot.forEach((doc) => {\r\n            // doc.data() is never undefined for query doc snapshots\r\n            console.log(doc.id, \" => \", doc.data().location);\r\n            setLastLocation(doc.data().location)\r\n            console.log(lastLocation)\r\n        });\r\n    })\r\n    .catch((error) => {\r\n        console.log(\"Error getting documents: \", error);\r\n    });\r\nconsole.log(coll)\r\n\r\n   }\r\n    return (\r\n        <View>\r\n            <TouchableOpacity style={styles.mainbutton} \r\n                              onPress={showLocation}> \r\n                 <Text>Show my location</Text>\r\n            </TouchableOpacity>\r\n        </View>\r\n    )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    mainbutton: {\r\n        margin: '1rem',\r\n        border: '1px solid lightblue',\r\n        padding: '1rem',\r\n        borderRadius: '10px'\r\n        \r\n    }\r\n})"]},"metadata":{},"sourceType":"module"}