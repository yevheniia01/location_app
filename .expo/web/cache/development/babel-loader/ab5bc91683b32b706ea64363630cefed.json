{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Yevheniia\\\\Documents\\\\Github_codes\\\\location_app_test\\\\my-app\\\\components\\\\MainButton.js\";\nimport { setStatusBarHidden, StatusBar } from 'expo-status-bar';\nimport React, { useState, useEffect } from 'react';\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport * as Location from 'expo-location';\nimport { initializeApp } from \"firebase/app\";\nimport firebase from 'firebase';\nexport default function MainButton(_ref) {\n  var locationLat = _ref.locationLat,\n      setLastLocation = _ref.setLastLocation,\n      lastLocation = _ref.lastLocation,\n      locationLong = _ref.locationLong,\n      address = _ref.address,\n      setAddress = _ref.setAddress,\n      setClicked = _ref.setClicked,\n      clicked = _ref.clicked;\n  var firebaseConfig = {\n    apiKey: \"AIzaSyBw0JiynMCdwmvU4R9HuB6mCOXCmwR8H0E\",\n    authDomain: \"locationapp-3efcb.firebaseapp.com\",\n    projectId: \"locationapp-3efcb\",\n    storageBucket: \"locationapp-3efcb.appspot.com\",\n    messagingSenderId: \"1020753340007\",\n    appId: \"1:1020753340007:web:31d1eeac64004d46bdd6c2\"\n  };\n\n  if (!firebase.apps.length) {\n    firebase.initializeApp(firebaseConfig);\n  }\n\n  var db = firebase.firestore();\n  var fireAddress = db.collection(\"test\").doc(\"locWaWWxNtucZmAIU5py\");\n  var randoms = ['Yes', 'No', 'Maybe', 'random'];\n\n  function showLocation() {\n    fetch('https://maps.googleapis.com/maps/api/geocode/json?address=' + locationLat + ',' + locationLong + '&key=' + 'AIzaSyANgMRwJSiVKGPdjshbjuavIYRuOg7dKvQ ').then(function (response) {\n      return response.json();\n    }).then(function (responseJson) {\n      var random = randoms[Math.floor(Math.random() * randoms.length)];\n      setAddress(responseJson.results[0].formatted_address + random);\n      setClicked(true);\n      console.log(address);\n    });\n    fireAddress.set({\n      location: address\n    }).then(function () {\n      console.log(\"Document successfully written!\");\n    }).catch(function (error) {\n      console.error(\"Error writing document: \", error);\n    });\n    fireAddress.update({\n      location: firebase.firestore.FieldValue.arrayUnion(address)\n    }).then(function () {\n      console.log(\"Document successfully updated!\");\n    }).catch(function (error) {\n      console.error(\"Error writing document: \", error);\n    });\n    var coll = db.collection(\"test\").get().then(function (querySnapshot) {\n      querySnapshot.forEach(function (doc) {\n        console.log(doc.id, \" => \", doc.data().location);\n        setLastLocation(doc.data().location);\n        console.log(lastLocation);\n      });\n    }).catch(function (error) {\n      console.log(\"Error getting documents: \", error);\n    });\n    console.log(coll);\n  }\n\n  return React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, React.createElement(Button, {\n    style: styles.mainbutton,\n    onClick: showLocation,\n    title: \"Show my location\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }));\n}\nvar styles = StyleSheet.create({\n  mainbutton: {\n    margin: '1rem',\n    back: back\n  }\n});","map":{"version":3,"sources":["C:/Users/Yevheniia/Documents/Github_codes/location_app_test/my-app/components/MainButton.js"],"names":["setStatusBarHidden","StatusBar","React","useState","useEffect","Location","initializeApp","firebase","MainButton","locationLat","setLastLocation","lastLocation","locationLong","address","setAddress","setClicked","clicked","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","apps","length","db","firestore","fireAddress","collection","doc","randoms","showLocation","fetch","then","response","json","responseJson","random","Math","floor","results","formatted_address","console","log","set","location","catch","error","update","FieldValue","arrayUnion","coll","get","querySnapshot","forEach","id","data","styles","mainbutton","StyleSheet","create","margin","back"],"mappings":"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","sourcesContent":["import { setStatusBarHidden, StatusBar } from 'expo-status-bar';\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Platform, Text, View, StyleSheet, Button } from 'react-native';\r\nimport * as Location from 'expo-location';\r\nimport { initializeApp } from \"firebase/app\";\r\nimport firebase from 'firebase';\r\n\r\nexport default function MainButton({locationLat, setLastLocation, lastLocation, locationLong, address, setAddress, setClicked, clicked }) {\r\n\r\n    const firebaseConfig = {\r\n        apiKey: \"AIzaSyBw0JiynMCdwmvU4R9HuB6mCOXCmwR8H0E\",\r\n        authDomain: \"locationapp-3efcb.firebaseapp.com\",\r\n        projectId: \"locationapp-3efcb\",\r\n        storageBucket: \"locationapp-3efcb.appspot.com\",\r\n        messagingSenderId: \"1020753340007\",\r\n        appId: \"1:1020753340007:web:31d1eeac64004d46bdd6c2\"\r\n      };\r\n      \r\n      // Initialize Firebase\r\n      if (!firebase.apps.length) {\r\n      firebase.initializeApp(firebaseConfig);\r\n      }\r\n    var db = firebase.firestore();\r\n      \r\n    let fireAddress = db.collection(\"test\").doc(\"locWaWWxNtucZmAIU5py\")\r\n    \r\n    \r\n    var randoms = ['Yes', 'No', 'Maybe', 'random'];\r\n\r\n  function showLocation(){\r\n    fetch('https://maps.googleapis.com/maps/api/geocode/json?address=' + locationLat + ',' + locationLong + '&key=' + 'AIzaSyANgMRwJSiVKGPdjshbjuavIYRuOg7dKvQ ')\r\n     .then((response) => response.json())\r\n     .then((responseJson) => {\r\n      var random = randoms[Math.floor(Math.random() * randoms.length)];\r\n      setAddress(responseJson.results[0].formatted_address + random)\r\n      setClicked(true)\r\n       console.log(address)\r\n      \r\n   })\r\n   fireAddress.set({\r\n    location: address \r\n  })\r\n  .then(() => {\r\n    console.log(\"Document successfully written!\");\r\n  })\r\n  .catch((error) => {\r\n    console.error(\"Error writing document: \", error);\r\n  });\r\n  \r\n  fireAddress.update({\r\n    location: firebase.firestore.FieldValue.arrayUnion(address)\r\n})\r\n.then(() => {\r\n  console.log(\"Document successfully updated!\");\r\n})\r\n.catch((error) => {\r\n  console.error(\"Error writing document: \", error);\r\n});\r\nlet coll = db.collection(\"test\")\r\n.get()\r\n    .then((querySnapshot) => {\r\n        querySnapshot.forEach((doc) => {\r\n            // doc.data() is never undefined for query doc snapshots\r\n            console.log(doc.id, \" => \", doc.data().location);\r\n            setLastLocation(doc.data().location)\r\n            console.log(lastLocation)\r\n        });\r\n    })\r\n    .catch((error) => {\r\n        console.log(\"Error getting documents: \", error);\r\n    });\r\nconsole.log(coll)\r\n\r\n   }\r\n    return (\r\n        <View>\r\n            <Button style={styles.mainbutton} \r\n                    onClick={showLocation}\r\n                    title=\"Show my location\"/> \r\n        </View>\r\n    )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    mainbutton: {\r\n        margin: '1rem',\r\n        back\r\n        \r\n    }\r\n})"]},"metadata":{},"sourceType":"module"}